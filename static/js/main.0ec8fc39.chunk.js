(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(34),i=c.n(s),l=(c(43),c(44),c(32),c(24)),r=c(5),o=c(16),d=c(3),j={isMock:!0,host:"http://localhost:3000/mock"},b=c(77),m=c(90),u=c(0),h=function(e){var t=e.part,c=Object(m.a)(["token"]),s=Object(d.a)(c,2),i=s[0],l=s[1],r=function(e){return e===t?" active":""};return Object(a.useEffect)((function(){i.token||l("token",""),i.token&&""!==i.token||!["Cart","Library","Shelf"].includes(t)||(window.location.href="/store")}),[]),Object(u.jsx)("div",{children:Object(u.jsxs)("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark p-3 shadow-lg",children:[Object(u.jsx)("a",{className:"navbar-brand",href:"/",children:"SBEAM"}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapse","aria-controls":"collapse","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsxs)("div",{className:"collapse navbar-collapse",id:"collapse",children:[Object(u.jsxs)("ul",{className:"navbar-nav",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link"+r("Store"),href:"/store",children:"Store"})}),"user"===i.role&&Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link"+r("Cart"),href:"/cart",children:"Cart"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link"+r("Library"),href:"/library",children:"Library"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link"+r("Crowdfunding"),href:"/crowdfunding",children:"Crowdfunding"})})]}),"admin"===i.role&&Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link"+r("Shelf"),href:"/shelf",children:"Shelf"})})]}),Object(u.jsx)("form",{className:"nav-item mx-auto",action:"/store",method:"get",children:Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Search",name:"query"}),Object(u.jsx)("div",{className:"input-group-append",children:Object(u.jsx)("button",{className:"btn border",type:"submit",children:Object(u.jsx)(b.a,{style:{color:"white"},fontSize:"small"})})})]})}),Object(u.jsxs)("ul",{className:"nav navbar-nav",children:[(!i.token||""===i.token)&&Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"nav-link"+r("Sign Up"),href:"/register",children:"Sign Up"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"nav-link"+r("Login"),href:"/login",children:"Login"})})]}),i.token&&""!==i.token&&Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"nav-link"+r("Login"),href:"/store",onClick:function(){l("token",""),l("role","")},children:"LogOut"})})]})]})]})})},x=function(e,t,c,a){console.log(e,t);var n=j.host+(j.isMock?e.replace(/\?.*/g,"")+".json":e);t=j.isMock?null:t,fetch(n,t).then((function(e){200===e.status?e.json().then((function(e){console.log("json:",e),"SUCCESS"==e.result?c(e.data):a(e.message)})):e.json().then((function(e){a(e.message)}))})).catch((function(e){a(e.message)}))},O=function(e,t){var c,a,n;try{c=e.toString().split(".")[1].length}catch(s){c=0}try{a=t.toString().split(".")[1].length}catch(s){a=0}return(e*(n=Math.pow(10,Math.max(c,a)))+t*n)/n},f=function(){var e=n.a.useState({username:"",password:""}),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(r.g)(),i=Object(m.a)(["token"]),l=Object(d.a)(i,2),j=(l[0],l[1]),b=function(e,t){var n=Object(o.a)({},c);n[e]=t,a(n)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{part:"Login"}),Object(u.jsx)("div",{className:"container ",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-4 offset-md-4 mt-5 mb-5 shadow",children:Object(u.jsxs)("div",{className:"bg-light p-4 shadow",children:[Object(u.jsx)("h4",{children:"Login"}),Object(u.jsxs)("div",{className:"text-left",children:[Object(u.jsx)("div",{className:"col-12 mt-4",children:Object(u.jsx)("input",{className:"col-12",placeholder:"Username",value:c.username,onChange:function(e){return b("username",e.target.value)}})}),Object(u.jsx)("div",{className:"col-12 mt-4",children:Object(u.jsx)("input",{className:"col-12",placeholder:"Password",value:c.password,onChange:function(e){return b("password",e.target.value)}})}),Object(u.jsx)("div",{className:"col-12 mt-4 text-center",children:Object(u.jsx)("button",{className:"btn btn-dark shadow",onClick:function(){console.log("/login",c),""===c.password||""===c.username?alert("username and password can not be empty"):x("/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)},(function(e){j("token",e.token),j("role",e.role),s.push("/store")}),(function(e){alert(e)}))},children:"Login"})})]}),Object(u.jsx)("hr",{className:"mt-4"}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsxs)("p",{className:"text-center mb-0",children:["Have not account yet? ",Object(u.jsx)("a",{href:"/register",children:"Signup"})]})})]})})})})]})},g=function(){var e=n.a.useState({username:"",password:"",confirm:""}),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(r.g)(),i=Object(m.a)(["token"]),l=Object(d.a)(i,2),j=(l[0],l[1]),b=function(e,t){var n=Object(o.a)({},c);n[e]=t,a(n)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{part:"Sign Up"}),Object(u.jsx)("div",{className:"container ",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-4 offset-md-4 mt-5 mb-5 shadow",children:Object(u.jsxs)("div",{className:"bg-light p-4 shadow",children:[Object(u.jsx)("h4",{children:"Sign Up"}),Object(u.jsxs)("div",{className:"text-left",children:[Object(u.jsx)("div",{className:"col-12 mt-4",children:Object(u.jsx)("input",{className:"col-12",placeholder:"Username",value:c.username,onChange:function(e){return b("username",e.target.value)}})}),Object(u.jsx)("div",{className:"col-12 mt-4",children:Object(u.jsx)("input",{className:"col-12",placeholder:"Password",value:c.password,onChange:function(e){return b("password",e.target.value)}})}),Object(u.jsx)("div",{className:"col-12 mt-4",children:Object(u.jsx)("input",{className:"col-12",placeholder:"Confirm Password",value:c.confirm,onChange:function(e){return b("confirm",e.target.value)}})}),Object(u.jsx)("div",{className:"col-12 mt-4 text-center",children:Object(u.jsx)("button",{className:"btn btn-dark shadow",onClick:function(){""===c.password||""===c.username?alert("username and password can not be empty"):c.password!==c.confirm?alert("password does not match"):x("/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)},(function(e){j("token",e.token),j("role",e.role),s.push("/tags")}),(function(e){alert(e)}))},children:"Register"})})]}),Object(u.jsx)("hr",{className:"mt-4"}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsxs)("p",{className:"text-center mb-0",children:["already have an account? ",Object(u.jsx)("a",{href:"/login",children:"Login"})]})})]})})})})]})},p=c(78),v=c(79),N=function(e){var t=e.tags;return Object(u.jsx)("div",{className:"pt-2 text-left",children:t.map((function(e,t){return Object(u.jsx)("span",{style:{marginLeft:2,marginRight:2},className:"badge badge-dark",children:e},t)}))})},y=function(e){var t=e.gameInfo,c=e.decor,a=(Object(r.g)(),function(){return void 0===c?Object(u.jsx)("span",{children:"$"+t.price}):"donate"===c?Object(u.jsx)("a",{href:"/detail?id="+t.id,className:"text-light",children:Object(u.jsx)("button",{className:"btn btn-success mt-2",children:"donate"})}):Object(u.jsx)(n.a.Fragment,{children:"download"===c?Object(u.jsx)("button",{className:"btn btn-primary mt-2",children:Object(u.jsx)(p.a,{})}):Object(u.jsx)("a",{href:"/edit?id="+t.id,className:"text-light",children:Object(u.jsx)("button",{className:"btn btn-primary mt-2",children:Object(u.jsx)(v.a,{})})})})});return Object(u.jsx)("div",{className:"container mt-3 mb-3",children:Object(u.jsx)("div",{className:"row d-flex justify-content-center",children:Object(u.jsx)("div",{className:"col-md-8 shadow-lg",children:Object(u.jsxs)("div",{className:"row p-3 bg-grad text-light",children:[Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsx)("a",{className:"feed-image",href:"/detail?id="+t.id,children:Object(u.jsx)("img",{className:" rounded img-fluid img-responsive",src:"data:image/jpeg;base64,".concat(t.thumbnail)})})}),Object(u.jsxs)("div",{className:"col-md-8",children:[Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-md-9 mt-2",children:Object(u.jsx)("div",{className:"text-left",children:Object(u.jsx)("h5",{children:t.name})})}),Object(u.jsx)("div",{className:"col-md-3",children:Object(u.jsx)(a,{})})]}),Object(u.jsx)(N,{tags:t.tags})]})]})})})})},w=c(9),S=function(e){var t=e.page,c=e.maxPage,s=e.setPage,i=n.a.useState([]),l=Object(d.a)(i,2),r=l[0],o=l[1];return Object(a.useEffect)((function(){o(function(){var e=[];if(c<5)return Object(w.a)(Array(c)).map((function(e,t){return t+1}));for(var a=0;a<4;a++)t+a<c&&e.push(t+a+1);return t+5<c&&e.push("..."),t+4<c&&e.push(c),t>1&&e.unshift("..."),t>0&&e.unshift(1),e}())}),[t,c]),Object(u.jsx)("div",{children:0!=c&&Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(u.jsx)("li",{className:"page-item"+(t>0?"":" disabled"),children:Object(u.jsx)("a",{className:"page-link",onClick:function(){t>0&&s(t-1)},children:"<"})}),r.map((function(e,c){return Object(u.jsx)("li",{className:"page-item"+(t+1==e?" active":""),children:Object(u.jsx)("a",{className:"page-link",onClick:function(){"..."!=e&&s(e-1)},children:e})},c)})),Object(u.jsx)("li",{className:"page-item"+(t<c-1?"":" disabled"),children:Object(u.jsx)("a",{className:"page-link",onClick:function(){t<c-1&&s(t+1)},children:">"})})]})})})},k=function(e){var t=e.gamesInfo,c=e.page,a=e.maxPage,n=e.setPage,s=e.decor;return Object(u.jsxs)("div",{children:[t.map((function(e,t){return Object(u.jsx)(y,{gameInfo:e,decor:s},t)})),Object(u.jsx)(S,{page:c,maxPage:a,setPage:n})]})},C=function(e){var t=e.order,c=e.setOrder;return Object(u.jsx)("div",{className:"container mt-3 mb-3",children:Object(u.jsx)("div",{className:"row d-flex justify-content-center",children:Object(u.jsx)("div",{className:"col-md-8 shadow-lg",children:Object(u.jsx)("div",{className:"row p-3 bg-grad text-light",children:Object(u.jsxs)("select",{value:t,onChange:function(e){c(e.target.value)},className:"form-select btn btn-info shadow",children:[Object(u.jsx)("option",{value:"New Releases",children:"New Releases"}),Object(u.jsx)("option",{value:"Trending",children:"Trending"}),Object(u.jsx)("option",{value:"Top Sellers",children:"Top Sellers"}),Object(u.jsx)("option",{value:"Recommendation",children:"Recommendation"})]})})})})})},A=function(e){var t=e.location,c=new URLSearchParams(t.search).get("query"),s=n.a.useState([]),i=Object(d.a)(s,2),l=i[0],r=i[1],o=n.a.useState(0),j=Object(d.a)(o,2),b=j[0],O=j[1],f=n.a.useState(0),g=Object(d.a)(f,2),p=g[0],v=g[1],N=Object(m.a)(["token"]),y=Object(d.a)(N,2),w=y[0],S=(y[1],n.a.useState("New Releases")),A=Object(d.a)(S,2),P=A[0],T=A[1];return Object(a.useEffect)((function(){x("/list?query=".concat(null===c?"":c,"&order=").concat(P,"&p=").concat(b,"&n=10"),{method:"GET",headers:{Authorization:w.token}},(function(e){r(e.games),v(e.maxPage)}),(function(e){console.log(e)}))}),[b,P]),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{part:"Store"}),Object(u.jsx)(C,{order:P,setOrder:T}),Object(u.jsx)(k,{gamesInfo:l,page:b,maxPage:p,setPage:O})]})},P=function(){var e=n.a.useState([]),t=Object(d.a)(e,2),c=t[0],s=t[1],i=n.a.useState(0),l=Object(d.a)(i,2),r=l[0],o=l[1],j=n.a.useState(0),b=Object(d.a)(j,2),O=b[0],f=b[1],g=Object(m.a)(["token"]),p=Object(d.a)(g,2),v=p[0];p[1];return Object(a.useEffect)((function(){x("/user/library?p=".concat(r,"&n=10"),{method:"GET",headers:{Authorization:v.token}},(function(e){s(e.games),f(e.maxPage)}),(function(e){console.log(e)}))}),[r]),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{part:"Library"}),Object(u.jsx)(k,{gamesInfo:c,page:r,maxPage:O,setPage:o,decor:"download"})]})},T=c(80),E=c(81),z=c(82),L=c.p+"static/media/empty_cart.564ce7f9.png",I=function(e){var t=e.idx,c=e.gameInfo,a=e.selected,n=e.setSelect,s=e.remove,i=function(){var e=Object(w.a)(a);e[t]=!e[t],n(e)};return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{onClick:i,children:Object(u.jsx)("input",{type:"checkbox",checked:void 0===a[t]||a[t],onChange:i})}),Object(u.jsx)("td",{children:Object(u.jsx)("a",{href:"/detail?id="+c.id,children:Object(u.jsx)("img",{className:"rounded",width:"100",src:"data:image/jpeg;base64,".concat(c.thumbnail)})})}),Object(u.jsx)("td",{className:"text-center",children:c.name}),Object(u.jsx)("td",{className:"text-center",children:"$"+c.price}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"btn btn-sm",onClick:function(){return s([c.id])},children:Object(u.jsx)(T.a,{style:{color:"red"}})})})]})},M=function(){var e=n.a.useState([]),t=Object(d.a)(e,2),c=t[0],s=t[1],i=n.a.useState([]),l=Object(d.a)(i,2),r=l[0],o=l[1],j=Object(m.a)(["token"]),b=Object(d.a)(j,2),f=b[0],g=(b[1],function(){return Object(u.jsx)("div",{className:"modal fade",id:"exampleModalCenter",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLongTitle",children:"Confirm Purchase"}),Object(u.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(u.jsxs)("div",{className:"modal-body",children:[r.some((function(e){return e}))||"no item are selected",r.some((function(e){return e}))&&"$"+c.filter((function(e,t){return r[t]})).reduce((function(e,t){return O(e,t.price)}),0)]}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Cancel"}),r.some((function(e){return e}))&&Object(u.jsx)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){return y(void 0)},children:"Confirm"})]})]})})})}),p=function(){x("/user/cart",{method:"GET",headers:{Authorization:f.token}},(function(e){s(e.games),o(new Array(e.games.length).fill(!1))}),(function(e){return console.log(e)}))},v=function(){r.every((function(e){return e}))?o(new Array(c.length).fill(!1)):o(new Array(c.length).fill(!0))},N=function(e){void 0===e&&(e=c.filter((function(e,t){return r[t]})).map((function(e){return e.id}))),0!==e.length&&x("/user/remove",{method:"DELETE",headers:{Authorization:f.token,"Content-Type":"application/json"},body:JSON.stringify({games:e})},(function(e){return p()}),(function(e){return console.log(e)}))},y=function(e){void 0===e&&(e=c.filter((function(e,t){return r[t]})).map((function(e){return e.id}))),0!==e.length&&x("/user/pay",{method:"POST",headers:{Authorization:f.token,"Content-Type":"application/json"},body:JSON.stringify({games:e})},(function(e){return p()}),(function(e){return console.log(e)}))};return Object(a.useEffect)((function(){p()}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{part:"Cart"}),Object(u.jsx)("div",{className:"container mt-5 mb-5",children:Object(u.jsx)("div",{className:"contentbar",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-12 col-lg-12 col-xl-12",children:Object(u.jsxs)("div",{className:"card m-b-30",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h5",{className:"card-title",children:"Cart"})}),0===c.length&&Object(u.jsx)("img",{src:L,className:"img-fluid pl-5 pr-5"}),0!==c.length&&Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("div",{className:"justify-content-center table-responsive",children:Object(u.jsxs)("table",{className:"table table-striped",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Select"}),Object(u.jsx)("th",{scope:"col",children:"Image"}),Object(u.jsx)("th",{scope:"col",children:"Name"}),Object(u.jsx)("th",{scope:"col",children:"Price"}),Object(u.jsx)("th",{scope:"col",children:"Remove"})]})}),Object(u.jsx)("tbody",{children:c.map((function(e,t){return Object(u.jsx)(I,{idx:t,gameInfo:e,selected:r,setSelect:o,remove:N},t)}))})]})}),Object(u.jsx)("div",{className:"p-3",children:Object(u.jsxs)("span",{onClick:v,children:[Object(u.jsx)("input",{type:"checkbox",className:"m-3",checked:r.every((function(e){return e})),onChange:v}),r.every((function(e){return e}))?"unselect all":"select all"]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("h4",{children:["Total Price:"," ",c.filter((function(e,t){return r[t]})).reduce((function(e,t){return O(e,t.price)}),0)]})}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-6 p-5",children:Object(u.jsx)("button",{className:"btn btn-xl btn-circle btn-danger",onClick:function(){return N(void 0)},children:Object(u.jsx)(E.a,{style:{color:"white",fontSize:40}})})}),Object(u.jsx)("div",{className:"col-6 p-5",children:Object(u.jsx)("button",{className:"btn btn-xl btn-circle btn-success","data-toggle":"modal","data-target":"#exampleModalCenter",children:Object(u.jsx)(z.a,{style:{color:"white",fontSize:40}})})})]})]})]})})})})}),Object(u.jsx)(g,{})]})},R=function(e){var t=e.pics;return Object(u.jsx)("div",{className:"container mt-3 mb-3",children:Object(u.jsxs)("div",{id:"carousel",className:"carousel slide","data-ride":"carousel",children:[Object(u.jsx)("ol",{className:"carousel-indicators",children:t.map((function(e,t){return Object(u.jsx)("li",{"data-target":"#carousel","data-slide-to":t,className:0===t?"active":""},t)}))}),Object(u.jsx)("div",{className:"carousel-inner",children:t.map((function(e,t){return Object(u.jsx)("div",{className:"carousel-item"+(0===t?" active":""),children:Object(u.jsx)("img",{className:"d-block w-100",src:"data:image/jpeg;base64,".concat(e)})},t)}))}),Object(u.jsxs)("a",{className:"carousel-control-prev",href:"#carousel",role:"button","data-slide":"prev",children:[Object(u.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(u.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(u.jsxs)("a",{className:"carousel-control-next",href:"#carousel",role:"button","data-slide":"next",children:[Object(u.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(u.jsx)("span",{className:"sr-only",children:"Next"})]})]})})},F=c(83),U=c(84),J=c(85),G=c(86),D=c(87),V=c(88),$=c(36),B=c(89),q={1:{icon:Object(u.jsx)(F.a,{}),label:"Very Dissatisfied"},2:{icon:Object(u.jsx)(U.a,{}),label:"Dissatisfied"},3:{icon:Object(u.jsx)(J.a,{}),label:"Neutral"},4:{icon:Object(u.jsx)(G.a,{}),label:"Satisfied"},5:{icon:Object(u.jsx)(D.a,{}),label:"Very Satisfied"}};function K(e){var t=e.value,c=Object($.a)(e,["value"]);return Object(u.jsx)("span",Object(o.a)(Object(o.a)({},c),{},{children:q[t].icon}))}function Q(e){var t=e.value,c=e.setValue;return Object(u.jsx)(B.a,{value:parseInt(t),onChange:function(e){return c(e.target.value)},IconContainerComponent:K,highlightSelectedOnly:!0})}var X=function(e){var t=e.location,c=new URLSearchParams(t.search).get("id"),s=n.a.useState({}),i=Object(d.a)(s,2),l=i[0],r=i[1],o=n.a.useState(3),j=Object(d.a)(o,2),b=j[0],O=j[1],f=n.a.useState(""),g=Object(d.a)(f,2),y=g[0],w=g[1],S=Object(m.a)(["token"]),k=Object(d.a)(S,2),C=k[0],A=(k[1],n.a.useState(!1)),P=Object(d.a)(A,2),T=P[0],E=P[1],z=function(){x("/user/detail?id=".concat(c),{method:"GET",headers:{Authorization:C.token}},(function(e){r(e)}),(function(e){console.log(e)}))},L=[Object(u.jsx)(F.a,{style:{color:"#ff3e3e"},fontSize:"large"}),Object(u.jsx)(U.a,{style:{color:"#fe643e"},fontSize:"large"}),Object(u.jsx)(J.a,{style:{color:"#fd8b3e "},fontSize:"large"}),Object(u.jsx)(G.a,{style:{color:"#fcb13e"},fontSize:"large"}),Object(u.jsx)(D.a,{style:{color:"#fbd83e"},fontSize:"large"})],I=function(e){var t=e.comments;return Object(u.jsx)("div",{className:"container mt-3 mb-3 text-light",children:Object(u.jsxs)("div",{className:"bg-grad text-left",children:[Object(u.jsx)("h3",{className:"pl-3",children:"CUSTOMER REVIEWS"}),t.map((function(e,t){return Object(u.jsx)("div",{className:"comment p-2",children:Object(u.jsxs)("div",{className:"text-justify p-2 border border-dark rounded bg-grad",children:[Object(u.jsxs)("h4",{children:[L[parseInt(e.rating)-1],"   "+e.username]}),Object(u.jsx)("p",{children:e.content})]})},t)}))]})})},M=function(e){var t=e.recs;return Object(u.jsx)("div",{className:"container mt-3 mb-3 text-light",children:Object(u.jsxs)("div",{className:"bg-grad text-left",children:[Object(u.jsx)("h3",{className:"pl-3",children:" MORE LIKE THIS"}),Object(u.jsx)("div",{className:"row",children:t.map((function(e,t){return Object(u.jsx)("a",{className:"col-md-3",href:"/detail?id="+e.id,children:Object(u.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover"},className:"img-responsive p-3",src:"data:image/jpeg;base64,".concat(e.thumbnail)})},t)}))})]})})},$=function(){var e=n.a.useState(""),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(u.jsx)("div",{className:"modal fade text-dark",id:"exampleModalCenter",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLongTitle",children:"Please enter the donation amount"}),Object(u.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(u.jsx)("div",{className:"modal-body",children:Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsx)("span",{className:"input-group-text",children:"$"})}),Object(u.jsx)("input",{type:"number",value:c,className:"form-control",onChange:function(e){return a(e.target.value)},placeholder:"0"})]})}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Cancel"}),Object(u.jsx)("button",{type:"button",className:"btn btn-success","data-dismiss":"modal",onClick:function(){return q(c)},children:"Confirm"})]})]})})})},B=function(){return 1===l.owned?Object(u.jsx)(p.a,{}):2===l.owned?Object(u.jsx)(v.a,{}):Object(u.jsx)(V.a,{})},q=function(e){x("/user/donate?id=".concat(c),{method:"POST",headers:{Authorization:C.token,"Content-Type":"application/json"},body:JSON.stringify({amount:e})},(function(e){console.log(e),z()}),(function(e){console.log(e)}))};return Object(a.useEffect)((function(){z()}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),0!==Object.keys(l).length&&Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)("div",{className:"container mt-3",children:Object(u.jsxs)("div",{className:"bg-grad text-light p-3",children:[Object(u.jsxs)("div",{className:"row featurette ",children:[Object(u.jsxs)("div",{className:"col-md-7 order-md-2 text-left",children:[Object(u.jsxs)("h2",{className:"featurette-heading",children:[Object(u.jsx)("span",{children:l.name}),Object(u.jsxs)("div",{className:"float-right",children:[(0===l.status?"received: $":"$")+l.price+" ",0!==l.status&&Object(u.jsx)("button",{className:"btn btn-primary"+(T?" ani":""),onClick:function(){E(!0),1===l.owned?console.log("download",l.id):2===l.owned?window.location.href="/edit?id="+l.id:""===C.token?(alert("please login"),window.location.href="/login"):x("/user/add?id=".concat(c),{method:"POST",headers:{Authorization:C.token}},(function(e){console.log("add to cart")}),(function(e){console.log(e)}))},onAnimationEnd:function(){return E(!1)},children:Object(u.jsx)(B,{})}),0===l.status&&Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)($,{}),Object(u.jsx)("button",{className:"btn btn-success","data-toggle":"modal","data-target":"#exampleModalCenter",children:"donate"})]})]})]}),Object(u.jsx)("p",{children:l.description})]}),Object(u.jsx)("div",{className:"col-md-5 order-md-1",children:Object(u.jsx)("img",{className:"featurette-image img-fluid mx-auto",src:"data:image/jpeg;base64,".concat(l.thumbnail)})})]}),Object(u.jsx)(N,{tags:l.tags})]})}),Object(u.jsx)(R,{pics:l.pics}),0!==l.recommends.length&&Object(u.jsx)(M,{recs:l.recommends}),0!==l.comments.length&&Object(u.jsx)(I,{comments:l.comments}),1===l.owned&&Object(u.jsx)("div",{className:"container mt-3 mb-3 text-light",children:Object(u.jsx)("div",{className:"card bg-grad",children:Object(u.jsxs)("div",{className:"card-body p-4",children:[Object(u.jsx)("h5",{children:"Add your comment"}),Object(u.jsx)(Q,{value:b,setValue:function(e){return O(parseInt(e))}}),Object(u.jsx)("div",{className:"form-outline",children:Object(u.jsx)("textarea",{className:"form-control",rows:"2",placeholder:"Add your comment here",value:y,onChange:function(e){return w(e.target.value)}})}),Object(u.jsx)("button",{type:"button",className:"btn btn-secondary mt-3 float-right",onClick:function(){x("/user/comment?id=".concat(c),{method:"POST",headers:{Authorization:C.token,"Content-Type":"application/json"},body:JSON.stringify({rating:b,content:y})},(function(e){console.log(e)}),(function(e){console.log(e)})),setTimeout((function(){O(3),w(""),z()}),1e3)},children:"Send"})]})})})]})]})},H=function(){var e=n.a.useState([]),t=Object(d.a)(e,2),c=t[0],s=t[1],i=n.a.useState(0),l=Object(d.a)(i,2),r=l[0],o=l[1],j=n.a.useState(0),b=Object(d.a)(j,2),O=b[0],f=b[1],g=Object(m.a)(["token"]),p=Object(d.a)(g,2),v=p[0],N=(p[1],function(){x("/admin/shelf?p=".concat(r,"&n=10"),{method:"GET",headers:{Authorization:v.token}},(function(e){s(e.games),f(e.maxPage)}),(function(e){console.log(e)}))});return Object(a.useEffect)((function(){N()}),[r]),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{part:"Shelf"}),Object(u.jsx)("div",{className:"container mt-3 mb-3",children:Object(u.jsx)("div",{className:"row d-flex justify-content-center",children:Object(u.jsx)("div",{className:"col-md-8 shadow-lg",children:Object(u.jsx)("div",{className:"row p-3 bg-grad-2 text-light",onClick:function(){x("/admin/add",{method:"POST",headers:{Authorization:v.token}},(function(e){N()}),(function(e){console.log(e)}))},children:Object(u.jsx)("button",{style:{borderStyle:"dashed",borderColor:"antiquewhite"},className:"p-4 btn text-light col-12",children:"Add New Game"})})})})}),Object(u.jsx)(k,{gamesInfo:c,page:r,maxPage:O,setPage:o,decor:"edit"})]})},W=function(e){var t=e.location,c=n.a.useState({}),s=Object(d.a)(c,2),i=s[0],l=s[1],r=Object(m.a)(["token"]),j=Object(d.a)(r,2),b=j[0],O=(j[1],new URLSearchParams(t.search).get("id")),f=function(){return Object(u.jsx)("div",{className:"modal fade text-dark",id:"exampleModalCenter",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"exampleModalLongTitle",children:"Save"}),Object(u.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(u.jsx)("div",{className:"modal-body",children:"Saved successfully"}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Cancel"})})]})})})},g=function(){x("/admin/edit?id=".concat(O),{method:"GET",headers:{Authorization:b.token}},(function(e){l(e)}),(function(e){console.log(e)}))},p=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=Object(o.a)({},i);"tags"===e?a[e][c]=t:a[e]=t,l(a)},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,c=Object(o.a)({},i);"add"===e?c.tags.push(""):c.tags=c.tags.filter((function(e,c){return t!==c})),l(c)},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=Object(o.a)({},i);if("add"===e)a.pics.push("iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAQAAACRI2S5AAAAEklEQVR42mP8X8+AFzCOKgADAJ1vDXivFXd/AAAAAElFTkSuQmCC");else{if("rm"!==e){if(c.files){var n=new FileReader;n.readAsDataURL(c.files[0]),n.addEventListener("load",(function(){void 0===t?a.thumbnail=n.result.split(",")[1]:a.pics[t]=n.result.split(",")[1],l(a)}),!1)}return}a.pics=a.pics.filter((function(e,c){return t!==c}))}l(a)};return Object(a.useEffect)((function(){g()}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),0!==Object.keys(i).length&&Object(u.jsx)(n.a.Fragment,{children:Object(u.jsx)("div",{className:"container mt-3",children:Object(u.jsxs)("div",{className:"bg-grad text-light p-3",children:[Object(u.jsxs)("div",{className:"row featurette ",children:[Object(u.jsxs)("div",{className:"col-md-5 order-md-1",children:[Object(u.jsx)("input",{type:"file",id:"thumbnail",style:{display:"none"},onChange:function(e){return N("change",void 0,e.target)}}),Object(u.jsx)("label",{className:"btn",htmlFor:"thumbnail",children:Object(u.jsx)("img",{className:"featurette-image img-fluid mx-auto",src:"data:image/jpeg;base64,".concat(i.thumbnail)})}),Object(u.jsxs)("div",{className:"row p-2",children:[Object(u.jsx)("label",{className:"col-2 col-form-label",children:"Price:"}),Object(u.jsx)("input",{className:"form-control col-9",placeholder:"Price",value:i.price,onChange:function(e){return p("price",e.target.value)}})]})]}),Object(u.jsxs)("div",{className:"col-md-7 order-md-2 text-left",children:[Object(u.jsx)("h2",{className:"featurette-heading",children:Object(u.jsx)("span",{children:Object(u.jsx)("input",{className:"form-control",placeholder:"Name",value:i.name,onChange:function(e){return p("name",e.target.value)}})})}),Object(u.jsx)("p",{children:Object(u.jsx)("textarea",{className:"form-control",rows:"5",value:i.description,placeholder:"Description",onChange:function(e){return p("description",e.target.value)}})}),Object(u.jsx)("label",{children:"status: "}),Object(u.jsxs)("select",{value:i.status,onChange:function(e){return p("status",e.target.value)},className:"form-select",children:[Object(u.jsx)("option",{value:0,children:"crowdfunding"}),Object(u.jsx)("option",{value:1,children:"release"})]})]})]}),Object(u.jsxs)("div",{className:"mt-4 text-left flex",children:[Object(u.jsx)("div",{className:"text-left",children:"Tags"}),i.tags.map((function(e,t){return Object(u.jsxs)("span",{children:[Object(u.jsx)("input",{placeholder:"tag "+(t+1),value:e,onChange:function(e){return p("tags",e.target.value,t)}}),Object(u.jsx)("button",{onClick:function(){return v("rm",t)},children:"-"})]},t)})),Object(u.jsx)("button",{onClick:function(){return v("add")},children:" + "})]}),Object(u.jsxs)("div",{className:"mt-4",children:[Object(u.jsx)("div",{className:"text-left",children:"Pictures"}),Object(u.jsx)("div",{style:{display:"flex",flexFlow:"row wrap"},children:i.pics.map((function(e,t){return Object(u.jsx)(n.a.Fragment,{children:Object(u.jsx)("div",{className:"",style:{flex:"0 0 50%"},children:Object(u.jsxs)("div",{style:{height:"100%"},children:[Object(u.jsx)("input",{type:"file",id:"pic"+t,style:{display:"none"},onChange:function(e){return N("change",t,e.target)}}),Object(u.jsx)("label",{className:"btn",style:{width:"80%"},htmlFor:"pic"+t,children:Object(u.jsx)("img",{style:{width:"100%"},className:"rounded",src:"data:image/jpeg;base64,".concat(e)})}),Object(u.jsx)("button",{onClick:function(){return N("rm",t)},className:"btn btn-sm btn-danger",style:{width:"20%",height:"85%"},children:Object(u.jsx)(E.a,{})})]})})},t)}))}),Object(u.jsx)("button",{className:"rounded btn btn-primary mt-2 col-5",onClick:function(){return N("add")},children:"+"})]}),Object(u.jsxs)("div",{className:"mt-3",children:[Object(u.jsx)("button",{className:"rounded btn btn-primary m-2",onClick:function(){return window.location.reload(!1)},children:"RESET"}),Object(u.jsx)("button",{className:"rounded btn btn-primary m-2","data-toggle":"modal","data-target":"#exampleModalCenter",onClick:function(){x("/admin/save?id=".concat(O),{method:"PUT",headers:{Authorization:b.token,"Content-Type":"application/json"},body:JSON.stringify(i)},(function(e){g()}),(function(e){console.log(e)}))},children:"SAVE"}),Object(u.jsx)(f,{})]})]})})})]})},_=["3D","Action","Adventure","Casual","Exploration","FPS","Indie","Massively Multiplayer","Open World","Puzzle","RPG","Racing","Sexual Content","Simulation","Sports","Strategy","Survival","Tactical"],Y=function(){var e=n.a.useState(Array(_.length).fill(!1)),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(m.a)(["token"]),i=Object(d.a)(s,2),l=i[0];i[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{part:""}),Object(u.jsx)("div",{className:"container mt-5 mb-5",children:Object(u.jsx)("div",{className:"row d-flex justify-content-center",children:Object(u.jsx)("div",{className:"col-md-8 shadow-lg",children:Object(u.jsxs)("div",{className:"p-3 bg-grad text-left",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h4",{className:"raw text-light p-2 text-center",children:"Please choose your preferred game genre"})}),Object(u.jsx)("div",{children:_.map((function(e,t){return Object(u.jsx)("button",{onClick:function(){return function(e){var t=Object(w.a)(c);t[e]=!t[e],a(t)}(t)},className:"btn m-2"+(c[t]?" btn-success":" btn-secondary"),children:e},t)}))}),Object(u.jsxs)("div",{className:"mt-5 text-right",children:[Object(u.jsx)("button",{onClick:function(){a(Array(_.length).fill(!1))},className:"btn btn-primary m-2",children:"Reset"}),Object(u.jsx)("button",{className:"btn btn-primary m-2",onClick:function(){var e=_.filter((function(e,t){return c[t]}));x("/user/tag",{method:"POST",headers:{Authorization:l.token,"Content-Type":"application/json"},body:JSON.stringify({tags:e})},(function(e){return console.log(e)}),(function(e){return console.log(e)})),window.location.href="/store"},children:"Confirm"})]})]})})})})]})},Z=function(){var e=n.a.useState([]),t=Object(d.a)(e,2),c=t[0],s=t[1],i=n.a.useState(0),l=Object(d.a)(i,2),r=l[0],o=l[1],j=n.a.useState(0),b=Object(d.a)(j,2),O=b[0],f=b[1],g=Object(m.a)(["token"]),p=Object(d.a)(g,2),v=p[0];p[1];return Object(a.useEffect)((function(){x("/user/crowdfunding",{method:"GET",headers:{Authorization:v.token}},(function(e){s(e.games),f(e.maxPage)}),(function(e){console.log(e)}))}),[r]),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{part:"Crowdfunding"}),Object(u.jsx)(k,{gamesInfo:c,page:r,maxPage:O,setPage:o,decor:"donate"})]})};var ee=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(l.a,{children:Object(u.jsxs)(r.d,{children:[Object(u.jsx)(r.b,{exact:!0,path:"/",children:Object(u.jsx)(r.a,{to:"/store"})}),Object(u.jsx)(r.b,{exact:!0,path:"/login",component:f}),Object(u.jsx)(r.b,{exact:!0,path:"/register",component:g}),Object(u.jsx)(r.b,{exact:!0,path:"/store",component:A}),Object(u.jsx)(r.b,{exact:!0,path:"/cart",component:M}),Object(u.jsx)(r.b,{exact:!0,path:"/library",component:P}),Object(u.jsx)(r.b,{exact:!0,path:"/shelf",component:H}),Object(u.jsx)(r.b,{exact:!0,path:"/detail",component:X}),Object(u.jsx)(r.b,{exact:!0,path:"/edit",component:W}),Object(u.jsx)(r.b,{exact:!0,path:"/tags",component:Y}),Object(u.jsx)(r.b,{exact:!0,path:"/crowdfunding",component:Z})]})})})},te=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,91)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};c(54);i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(ee,{})}),document.getElementById("root")),te()}},[[57,1,2]]]);
//# sourceMappingURL=main.0ec8fc39.chunk.js.map